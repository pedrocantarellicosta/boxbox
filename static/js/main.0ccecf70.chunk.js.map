{"version":3,"sources":["../../frontend/src/services/api.js","../../frontend/src/pages/Main/index.js","../../frontend/src/pages/Box/index.js","../../frontend/src/routes.js","../../frontend/src/App.js","../../frontend/src/index.js","../../frontend/src/assets/boxbox3.png"],"names":["api","axios","create","baseURL","Main","state","newBox","handleSubmit","_callee","event","response","regenerator_default","a","wrap","_context","prev","next","preventDefault","post","title","_this","sent","props","history","push","concat","data","_id","stop","handleInputChange","setState","target","value","react_default","createElement","id","onSubmit","this","src","logo","className","alt","placeholder","onChange","type","Component","Box","box","subscribeToNewFiles","match","params","io","socket","emit","on","Object","objectSpread","files","toConsumableArray","handleUpload","forEach","file","FormData","append","get","es","onDropAccepted","_ref","getRootProps","getInputProps","assign","map","key","href","url","index_esm","size","color","distanceInWords","createdAt","Date","locale","pt","Routes","react_router_dom","react_router","path","exact","component","App","routes","ReactDOM","render","src_App_0","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.0ccecf70.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://curso-react-backend.herokuapp.com',\r\n});\r\n\r\nexport default api;","import React, { Component } from 'react';\r\nimport api from '../../services/api';\r\n\r\n\r\nimport logo from '../../assets/boxbox3.png';\r\nimport  './styles.css';\r\n\r\nexport default class Main extends Component {\r\n  state = {\r\n    newBox: '',\r\n  };\r\n  \r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    \r\n    const response = await api.post('boxes', {\r\n      title: this.state.newBox,\r\n    });\r\n\r\n    this.props.history.push(`/box/${response.data._id}`);\r\n\r\n    //console.log(response.data);\r\n\r\n  }\r\n\r\n  handleInputChange = (event) =>{\r\n    this.setState({newBox: event.target.value});\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div id=\"main-container\">\r\n        <form onSubmit={this.handleSubmit}>\r\n          <img src={logo} className=\"box\" alt=\"Boxbox\" />\r\n          <input \r\n            placeholder=\"Criar um box\" \r\n            value={this.state.newBox}\r\n            onChange={this.handleInputChange}  \r\n          />\r\n          <button type=\"submit\">Criar</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport logo from '../../assets/boxbox3.png';\r\nimport { MdInsertDriveFile } from 'react-icons/md';\r\nimport { distanceInWords } from 'date-fns';\r\nimport { pt } from 'date-fns/locale/pt';\r\nimport Dropzone from 'react-dropzone';\r\nimport socket from 'socket.io-client';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport './styles.css';\r\n\r\n\r\n// import { Container } from './styles';\r\n\r\nexport default class Box extends Component {\r\n  state = {\r\n    box: {}\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.subscribeToNewFiles();\r\n\r\n    const box = this.props.match.params.id;\r\n    const response = await api.get(`boxes/${box}`);\r\n\r\n    this.setState({ box: response.data });\r\n  }\r\n\r\n  subscribeToNewFiles = () => {\r\n    const box = this.props.match.params.id;\r\n    const io = socket(\"https://curso-react-backend.herokuapp.com\");\r\n\r\n\r\n    io.emit(\"connectRoom\", box);\r\n\r\n    io.on(\"file\", data => {\r\n      this.setState({\r\n        box: { ... this.state.box, files: [data, ...this.state.box.files,] }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleUpload = files => {\r\n    files.forEach(file => {\r\n      const data = new FormData();\r\n      const box = this.props.match.params.id\r\n\r\n      data.append('file', file);\r\n\r\n      api.post(`boxes/${box}/files`, data);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"box-container\">\r\n        <header>\r\n          <img src={logo} alt=\"Boxbox\" />\r\n          <h1>{this.state.box.title}</h1>\r\n        </header>\r\n\r\n        <Dropzone onDropAccepted={this.handleUpload}>\r\n          {({ getRootProps, getInputProps }) => (\r\n            <div className=\"upload\" {...getRootProps()}>\r\n              <input {...getInputProps()} />\r\n              <p>Clique ou Arraste o arquivo</p>\r\n            </div>\r\n          )}\r\n        </Dropzone>\r\n\r\n        <ul>\r\n          {this.state.box.files && this.state.box.files.map(file => (\r\n            <li key={file._id}>\r\n              <a className=\"fileInfo\" href={file.url} target=\"_blank\">\r\n                <MdInsertDriveFile size={24} color=\"#A5Cfff\" />\r\n                <strong>{file.title}</strong>\r\n              </a>\r\n\r\n              <span>h√°{\" \"}{distanceInWords(file.createdAt, new Date(), {\r\n                locale: pt\r\n              })}\r\n              </span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch} from 'react-router-dom'; \nimport Main from './pages/Main';\nimport Box from './pages/Box';\n\nconst Routes = () => (\n\n    <BrowserRouter>\n        <Switch>\n            <Route path =\"/\" exact component={Main} />\n            <Route path =\"/box/:id\" component={Box} />\n        </Switch>\n    </BrowserRouter>\n);\n\nexport default Routes;","import React from 'react';\nimport Routes from './routes'\n\nimport './App.css';\n\nconst App = () => <Routes />\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/boxbox3.c22fd429.png\";"],"sourceRoot":""}